
<!DOCTYPE HTML>
<html lang="en">

  <head>
    <title>Test</title>    
	<style type="text/css">
		svg {
		  border: solid 1px #aaa;
		}
    </style>
  <head>

  <body>
    <h2>Controlling SVG with Javascript</h2>
    <div >
		<div style="padding: 0px">	
			<svg id="svg_div" style="padding-right:0px;" width="700" height="400" >
				Sorry, your browser does not support inline SVG.
				<g>
					<rect id=rectangle-svg onmousedown="mouseDown(event, this.id)"  width="100" height="100" style="fill:lightblue; stroke-width:1; stroke:rgb(0,0,0)" />
				</g>
				<g>
					<rect id=rectangle-svg1 onmousedown="mouseDown(event, this.id)" x="100" width="100" height="100" style="fill:lightblue; stroke-width:1; stroke:rgb(0,0,0)" />
				</g>
				<g>
					<rect id=rectangle-svg2 onmousedown="mouseDown(event, this.id)" x="200" width="100" height="100" style="fill:lightblue; stroke-width:1; stroke:rgb(0,0,0)" />
				</g>
			</svg>
			
				
	    </div>
		<p id="demo"></p>
		<p id="h"></p>
		<p id="w"></p>
		<p id="startytext"></p>	
		<p id="move"></p>	
		<button onclick="newObject()"> Click Me </button>
	</div>


<script>

var arrayOfBars = [];
// Use getELementsByClassName (or getElementsBy(SOMETHING ELSE)) give each rectangle a class name (this can be different between 
// channels)
// Will allow me to access and add elements to change the x position of all if one is stretched
// Limitation: not sure what order and will have to continuously push to array, need to store or get how many in array as well 

function myFunction() {
	var s = document.getElementById(id);
	s.setAttribute("height", 200);

}

function mouseDown(e, id)	{
	var s = document.getElementById(id);
	var bh = s.height.baseVal.value
	var bw = s.width.baseVal.value
	var starty = e.clientY;
	var inity = "Start Y: " + starty;
	document.getElementById("startytext").innerHTML = inity
	//s.setAttribute("x", 3);
	//s.setAttribute("y", 3);
	s.setAttribute("cursor", "ns-resize");
	
	document.onmousemove = function(e) {
		var x = e.clientX;
		var y = e.clientY;
		coor = "Coordinates: (" + x + "," + y + ")";
		document.getElementById("demo").innerHTML = coor
		
		h = "Height: " + bh;
		document.getElementById("h").innerHTML = h
		w = "Width: " + bw;
		document.getElementById("w").innerHTML = w	
		var move = y - starty
		document.getElementById("move").innerHTML = move
		var adjust_height = bh+move;
		if(adjust_height>390)	{
			adjust_height=390;
		}
		else if(adjust_height<10)	{
			adjust_height=10;
		}
		s.setAttribute("height", adjust_height);
	}
	this.onmouseup = function() {
		document.onmousemove = null
		s.setAttribute("cursor", "default");
	}

}

function newObject()	{
	
	var newGroup = document.createElementNS("http://www.w3.org/2000/svg", 'g'); 		// Create groupin SVG's namespace
	var newElement = document.createElementNS("http://www.w3.org/2000/svg", 'rect'); 	// Create a rectangle in SVG's namespace
	// ID, onmousedown,
	newElement.setAttribute("id", "rectangle-svg"+3); 
	newElement.setAttribute("onmousedown", "mouseDown(event, this.id)"); 
	newElement.setAttribute("width", 100); 
	newElement.setAttribute("height", 100); 
	newElement.setAttribute("x", 300); 
	newElement.setAttribute("style", "fill:lightblue; stroke-width:1; stroke:rgb(0,0,0)"); 
	
	
	newGroup.appendChild(newElement);
	document.getElementById('svg_div').appendChild(newGroup);
}


</script>
</body>
</html>
